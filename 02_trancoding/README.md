# Transcoding

不同的编码有不同的优点，一般较新的编码格式对原始数据的压缩率越高，最终的封装文件体积越小，但是播放器可能不支持一些新的编码格式，这时候需要对文件进行转码。

## 实现功能等效FFmpeg命令

将`hevc(h265)`格式转为 `h264`编码格式

```bash
ffmpeg -i hevc.mkv -c:v libx264 x264.mp4
```

> 注意：本示例代码中未对解码器和编码器进行清空，实际解码的帧小于实际视频帧。关于这部分处理会在后续涉及。

## 转码

相对于重封装，转码需要对读取的packet进行 *解码* 再 *编码* 的过程。因此，需要为编码和解码过程准备对应的 编码器(encoder) 和解码器(decoder)。